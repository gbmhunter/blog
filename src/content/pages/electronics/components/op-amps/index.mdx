---
authors: [gbmhunter]
date: 2011-09-05
description: Schematic symbol, example circuits, equations, applications and more info about operational amplifiers (op-amps).
lastUpdated: 2024-08-23
tags: [op-amps, schematic symbols, analogue, analog, operational amplifiers, inverting, buffers, non-inverting, components, gain, voltage followers, offset nulling, input offset voltages, instrumentation amplifiers, capacitive loading, current sources, quiescent currents, GBW, slew rates, negative impedance converters, NICs, summing amplifiers, level shifting]
title: Op-Amps
type: page
---

At it's most basic level, an _operational amplifier_ (op-amp) is a **discrete analogue integrated circuit which acts as a voltage-amplifier with very high gain**.

An op-amp's gain can be adjusted with the appropriate external circuitry (the op-amp's internal gain does not change, but the gain of the entire circuit does). This is almost always done for any op-amp that is used as an amplifier. External circuitry can also manipulate the op-amp to act as as a current amplifier or perform "mathematical" operations on signals.

## Schematic Symbol

An op-amp is commonly drawn on schematics as:

<Image src={import('./_assets/op-amp-basic-schematic-symbol.webp')} width="500px">The basic schematic symbol for an op-amp.</Image>

You may see this symbol with or without the voltage supply pins $ +V_{S} $ and $ -V_{S} $. If they are not present, it is assumed that they are connected up to a power source which should be obvious from the design intent.

<Aside type="caution">
Always take note of the position of the inverting (-) and non-inverting (+) input terminals. **Sometimes they can be drawn swapped around relative to the symbol shown above**.
</Aside>

## Uses

* Buffers (a.k.a. voltage followers)
* Linear amplifiers, non-linear amplifiers
* Pre-amplifiers (amplifier's with a input voltage of 10mV or less)
* Analogue mathematical operations (differentiators, integrators, summer, subtracters, e.t.c)
* Voltage to current (transconductance) and current to voltage conversions (transimpedance)

## Op-Amp Topologies

### Voltage Followers (a.k.a. Buffers)

A _voltage follower_ (also known as a _buffer_) is one of the most basic circuits you can make with an op-amp. The schematic is shown below:

<Image src={import('./_assets/voltage-follower-buffer-schematic.webp')} width="500px">An op-amp configured as a voltage follower (aka buffer).</Image>

The output voltage for a voltage follower is just simply:

$$
\begin{align}
\label{eq:buffer-vout-eq-vin}
v_{out} &= v_{in}
\end{align}
$$

As shown in Eq $\ref{eq:buffer-vout-eq-vin}$, the output voltage is the same as the input voltage. Well isn't this pointless? No, the key point to a voltage follower/buffer is that it can convert a **high-impedance input into a low impedance output**. Practically, this means that you can now sink/source more current from the output without the voltage changing. Buffers are great for boosting signals that travel across long distances, or for signals which get split and go to many devices (this is called **fan-out**, and is common with digital clock signals).

<Aside type="example">

A simulation schematic for a voltage-follower op-amp is shown below.

<Image src={import('./_assets/simulation-schematic-for-op-amp-voltage-follower-buffer.png')} width="400px">A simulation schematic for an op-amp configured as a voltage-follower (buffer).</Image>

The results of the simulation:

<Image src={import('./_assets/output-voltage-vs-input-voltage-op-amp-voltage-follower.png')} width="600px">The simulation results for an op-amp configured as a voltage-follower (buffer). Note how the output voltage mirrors the input voltage exactly.</Image>

</Aside>

### Non-Inverting Amplifiers

A op-amp in the non-inverting amplifier configuration is shown below.

<Image src={import('./_assets/non-inverting-amplifier-schematic.svg')} width="500px">An op-amp configured as a non-inverting amplifier.</Image>

The equation for the output voltage of the non-inverting amplifier is:

$$
\begin{align}
v_{out} = \left(1 + \frac{R_f}{R_i}\right) v_{in}
\end{align}
$$

Notice the $1$ in the gain equation? This means that no matter what you set the resistors $R_f$ and $R_i$ to, you can **never get a gain which is less than one**. This is one of the disadvantages of the non-inverting amplifier (you can have a gain of less than one with an inverting amplifier).

<Aside type="caution">
There is no one common convention for labelling these feedback resistors. Sometimes they are called $R_i$ and $R_f$, other times $R_1$ and $R_2$ (with either resistor being $R_1$)
</Aside>

<Aside type="example">

**Simulation example for a non-inverting amplifier.**

Here is a simulation schematic (circuit) for a non-inverting op-amp amplifier running from a single-ended supply. Because R1 ($R_f$) and R2 ($R_i$) are both $1k\Omega$, the op-amp has a voltage gain $A_V$ of:

$$
\begin{align}
A_V &= 1 + \frac{R_f}{R_i} \\  
    &= 1 + \frac{1k\Omega}{1k\Omega} \\  
    &= 2 \\
\end{align}
$$

<Image src={import('./_assets/non-inverting-op-amp-amplifier-simulation-schematic.png')} width="450px">The simulation schematic for a non-inverting op-amp amplifier.</Image>

The results of the simulation are shown below. As you can see, the output voltage $v_{out}$ is exactly twice the input voltage $v_{in}$.

<Image src={import('./_assets/vout-vs-vin-non-inverting-op-amp-amplifier-gain-of-2.png')} width="700px">A graph of $v_{out}$ vs. $v_{in}$ for a non-inverting op-amp amplifier circuit.</Image>

</Aside>

### Inverting Amplifiers

A op-amp amplifier in the inverting configuration is shown below.

<Image src={import('./_assets/inverting-amplifier-schematic.svg')} width="500px">An op-amp configured as an inverting amplifier.</Image>

The equation for the output voltage of an inverting amplifier is:

$$
\begin{align}
v_{out} = - \frac{R_f}{R_i} v_{in}
\end{align}
$$

The negative sign is to show that the output is the inverse polarity of the input. Notice that, unlike the non-inverting amplifier, **an inverting amplifier lets you obtain a gain of less than 1**.

<Aside type="example">

**Simulation example for a an inverting amplifier.**

Below is the schematic used for simulating the behaviour of an inverting op-amp. Note how is requires a negative voltage power supply.

<Image src={import('./_assets/inverting-op-amp-simulation-schematic.png')} width="600px">A schematic for simulating the behaviour of an inverting op-amp.</Image>

And below are the simulation results for the above schematic:

<Image src={import('./_assets/vout-vs-vin-inverting-op-amp-gain-neg-1.png')} width="700px">$v_{out}$ vs. $v_{in}$ for an inverting op-amp with a gain of -1.</Image>

</Aside>

### Difference Amplifiers

A difference (a.k.a _differential_ or _subtractive_) amplifier is an op-amp circuit which amplifies the voltage difference between two electrical signals. It is the mathematical equivalent of subtraction with some additional gain. The schematic is shown below:

<Image src={import('./_assets/differential-amplifier-schematic.svg')} width="700px">An op-amp configured as a differential amplifier.</Image>

The output voltage is given by the equation[^electronics-tutorials-ws-the-differential-amplifier]:

$$
\begin{align}
v_{out} = \left(\frac{R_2}{R_1 + R_2}\right)\left(\frac{R_3 + R_4}{R_3}\right)v_1 - \frac{R_4}{R_3}v_2
\end{align}
$$

<Aside type="caution">
It's easy to confuse a differential amplifier (what we are discussing here) with a _differentiator amplifier_, which performs the mathematical function of differentiation (opposite of integration).
</Aside>

To make a standard difference amplifier, $R_1$ is picked to equal $R_3$ and $R_2$ is picked to equal $R_4$. In this case, the above equation easily simplifies to:

$$
\begin{align}
v_{out} = \left(\frac{R_2}{R_1}\right)(v_1 - v_2)
\end{align}
$$

Now you can clearly see how it behaves as a subtractor ($v_1 - v_2$) followed by some gain ($\frac{R_2}{R_1}$). 

<Aside type="example">

**Simulation example for a differential amplifier.**

Below is a schematic for simulating the behaviour of a differential op-amp:

<Image src={import('./_assets/differential-op-amp-simulation-schematic.png')} width="800px">A schematic for simulating the behaviour of a differential op-amp.</Image>

This schematic produces the following results:

<Image src={import('./_assets/differential-op-amp-simulation-graph-vin1-vin2-vout.png')} width="700px">A graph Vout vs. Vin1 and Vin2 for a op-amp configured as a differential amplifier.</Image>

</Aside>

### Integration Amplifiers

An _integration amplifier_ performs mathematical integration on the input signal -- It's output voltage is proportional to the integral of the input voltage w.r.t. time. The below schematic shows an **ideal** op-amp based integrator.

<Image src={import('./_assets/integration-amplifier-schematic-ideal.svg')} width="500px">An op-amp configured as an ideal integrator.</Image>

Eq. $\ref{eq:vout-vin-ideal-integrator}$ shows the relationship between input and output voltage.

$$
\begin{align}
\label{eq:vout-vin-ideal-integrator}
v_{out} = \frac{1}{R_i C} \int_0^t v_{in}\ dt
\end{align}
$$

**However, this circuit is normally not practical in real world situations**. Any errors such as the output offset voltage and input bias current (which all op-amps invariably have), as well as a non-perfect input signal with small amounts of DC bias, will cause the output to drift, until it reaches saturation.

A way to fix this problem is to insert a high-valued feedback resistor, $R_f$, to limit the DC gain, as well as a resistor, $R_{bias}$, on the non-inverting input terminal to compensate for the input bias current.

<Image src={import('./_assets/integration-amplifier-schematic-non-ideal.svg')} width="430px">An op-amp configured as a non-ideal (real world) integrator, with feedback resistor $R_f$ to slowly remove DC offset and $R_{bias}$ to compensate for input bias current.</Image>

$$
\begin{align}
v_{out} &= \frac{1}{R_i C} \int_0^t v_{in}\ dt \\
R_{bias} &= R_i\ ||\ R_f ||\ R_L \\
V_E &= \left(\frac{R_f}{R_i} + 1\right) V_{OS}
\end{align}
$$

### Differentiator Amplifiers

TODO: Add content here.

### Transconductance Amplifiers

A _transconductance amplifier_ is an op-amp topology which is used to **convert a voltage into a current**. Coincidentally, it is also known as a _voltage-to-current converter_.

A basic transconductance amplifier can be built with an op-amp in a non-inverting configuration.

A transconductance amplifier is useful creating an industry standard 4-20mA (or 0-20mA) current-loop signal. The input voltage can come from something like a potentiometer or microcontroller (coupled with either using a VDAC peripheral or PWM/RC-filter technique to create a variable voltage).

One disadvantage with this design is that the current output is not ground referenced, that is, ground is not used as the return path for the current. This complicates the wiring.

### Transimpedance Amplifiers

See the [Photodiodes page](/electronics/components/diodes/photodiodes/) for information on how to design a transimpedance amplifier to convert a photodiodes output current signal into a voltage.

### Current Sources

An **op-amp can be easily wired up with a MOSFET and sense resistor to make a _voltage controlled current source_**. See [Current Sources And Sinks: Op-amp Current Sink](/electronics/components/current-sources-and-sinks/#op-amp-current-sink) for info on how to make an op-amp current source, including schematics, equations and worked examples.

<Image src={import('./_assets/op-amp-current-sink-schematic.png')} width="500px">Schematic of an op-amp based current sink. See [Current Sources And Sinks: Op-amp Current Sink](/electronics/components/current-sources-and-sinks/#op-amp-current-sink) for more info.</Image>

### Summing Amplifiers

Op-amps can be used to sum (add) voltages together. There are called _summing amplifiers_.

Summing amplifiers are used for things such as:

* **Mixing audio signals**: Audio mixers can be made from summing amplifiers, which combine multiple audio tracks together (e.g. singing with guitar, piano and drums).
* **Creating a DAC**: Many inputs with resistances following a $2^n$ pattern are used. These days however you should probably just buy a dedicated DAC IC!
* **Level-shifting**: For example, shifting a +-5V signal to 0-3.3V for input into a DAC. A two input summing amplifier can do this, with one input being the AC signal you want to level-shift and the other input being a fixed DC offset. Combined with the gain of the op-amp you can both offset and scale the signal.

#### Inverting Summing Amplifier

The below schematic shows a inverting summing amplifier with three inputs.

<Image src={import('./_assets/summing-amplifier-inverting.webp')} width="500px">A summing amplifier with three inputs.</Image>

**_How Does The Inverting Summing Amplifier Work?_**

The current $i_f$ going through the resistor $R_f$ is just the sum of the currents going through resistors $R_i$.

$$
\begin{align}
i_f &= - (i_1 + i_2 + i_3) \\
\end{align}
$$

The inverting input of the amplifier is at "virtual ground". 

$$
\begin{align}
\label{eq:if-eq-v1-ri-v2-ri-v3-ri}
i_f  &= - \left(\frac{v_1}{R_i} + \frac{v_2}{R_i} + \frac{v_3}{R_i}\right) \\
\end{align}
$$

Again, because the inverting input is at $0V$, the voltage $v_{out}$ is just:

$$
\begin{align}
\label{eq:vout-eq-if-rf}
v_{out} &= i_f R_f 
\end{align}
$$

Substitute Eq. $\ref{eq:if-eq-v1-ri-v2-ri-v3-ri}$ into Eq. $\ref{eq:vout-eq-if-rf}$, and then simplify a little:

$$
\begin{align}
v_{out} &= - \left(\frac{v_1}{R_i} + \frac{v_2}{R_i} + \frac{v_3}{R_i}\right) R_f \nonumber \\
        \label{eq:inv-sum-amp-gain-eq}
        &= - \frac{R_f}{R_i} (v_1 + v_2 + v_3) \\
\end{align}
$$

And there we have it! Eq. $\ref{eq:inv-sum-amp-gain-eq}$ shows you [^summing-amplifier-inverting] works as an inverting summing amplifier for three input voltages $v_1$, $v_2$, and $v_3$. Note that aside from summing, the inverting summing amplifier also applies the negative gain $- \frac{R_f}{R_i}$, just like a standard [^_inverting_amplifiers, inverting amplifier]. You can make $R_f$ equal to $R_i$ if you don't want any gain, but you can't avoid the inverting part. If you don't want it to invert (perhaps your using a single-sided supply?), then take a look at the [^_non_inverting_summing_amplifier, non-inverting summing amplifier].

Whilst common, the resistors $R_i$ do not need to be equal. If they are **not equal, the circuit in [^summing-amplifier-inverting] is called a _scaling summing amplifier_**. Each input voltage is scaled by a value determined by it's input resistance before being summed together.

$$
\begin{align}
\label{eq:inv-scaling-sum-amp-gain-eq}
v_{out} &= - R_f \left(\frac{v_1}{R_1} + \frac{v_2}{R_2} + \frac{v_3}{R_3}\right) \\
\end{align}
$$

#### Non-inverting Summing Amplifier

The _non-inverting summing amplifier_ is similar to the _inverting summing amplifier_ except that it does not invert the input voltages. The advantages and dis-advantages of the non-inverting vs the inverting summing amplifier are highlighted below:

**Advantages**

* Does not invert the input signals (this might actually be a dis-advantage, depending on the application!)
* May only need a single-ended voltage supply (depending on the voltage ranges of the inputs).
* Higher input impedance

**Disadvantages**

* More complicated gain equation/resistor values (because there is no virtual ground at the inputs).
* Unused inputs cannot be left floating, they must be grounded (more on this below).

The below schematic shows a non-inverting summing amplifier with three inputs:

<Image src={import('./_assets/summing-amplifier-non-inverting.webp')} width="500px">A non-inverting summing amplifier with three inputs.</Image>

If all the input resistors are equal ($R_1 = R_2 = R_3 = R$), the gain equation is:

$$
\begin{align}
v_{out} = \left(1 + \frac{R_f}{R_i}\right) \frac{v_1 + v_2 + v_3}{3}
\end{align}
$$

**_How Does The Non-Inverting Summing Amplifier Work?_**

Because we have no nice virtual ground at the non-inverting input, we have to analyze the non-inverting summing amplifier a little differently to the inverting version. First, use Kirchhoff's current law:

$$
\begin{align}
i_1 + i_2 + i_3 = 0 \\
\end{align}
$$

Let's call the voltage at the non-inverting pin $v_+$. We can then write replace the currents above with the voltage difference divided by the resistance:

$$
\begin{align}
\frac{v_1 - v_+}{R_1} + \frac{v_2 - v_+}{R_2} + \frac{v_3 - v_+}{R_3} = 0 \\
\end{align}
$$

Let's assume the input resistors are equal ($R_1 = R_2 = R_3 = R$), then simplify and solve for $v_+$:

$$
\begin{align}
\frac{1}{R} ( v_1 - v_+ + v_2 - v_+ + v_3 - v_+ ) &= 0 \nonumber \\
v_1 + v_2 + v_3 - 3v_+ &= 0 \nonumber \\
v_+ = \frac{v_1 + v_2 + v_3}{3} \\
\end{align}
$$

So now we have an equation for $v_+$ in terms on the input voltages. As described in the [^_non_inverting_amplifiers], the equation for a non-inverting amplifier is:

$$
\begin{align}
v_{out} = \left(1 + \frac{R_f}{R_i}\right) v_{+}
\end{align}
$$

Substituting in $v_+$ we get the final equation for a 3-input non-inverting summing amplifier:

$$
\begin{align}
v_{out} = \left(1 + \frac{R_f}{R_i}\right) \frac{v_1 + v_2 + v_3}{3}
\end{align}
$$

Notice the $3$. This scaling factor is equal to the number of inputs the non-inverting summing amplifier has, so remember that the scaling factor changes if you add/remove inputs! 

WARNING: Unused inputs into a inverting summing amplifier can be left floating. **Unused inputs into a non-inverting amplifier CANNOT be left floating**, they need to be tied to ground (0V).

### Level Shifters

Op-amps can be used to perform _level-shifting_. The concept of level-shifting is very similar to what is achieved by [^_summing_amplifiers, summing amplifiers].

<Aside type="example">

**Simulation example for an op-amp based level shifter.**

The below schematic shows a op-amp based level shifter which converts a $\pm 5.0V$ signal into a $0-3.3V$ signal, suitable for passing into a microcontrollers DAC for digital conversion and processing (microcontrollers often run of $+3.3V$, hence that is also a common choice for the reference voltage of the DAC). If you used rail-to-rail op-amps, you might be able to get away with lowering the voltage rails for the op-amp to $\pm 5.0V$.

<Image src={import('./_assets/level-shifter-sim/schematic.png')} width="700px">Schematic of a level-shifting circuit that converts a $\pm 5.0V$ signal into a $0-3.3V$ signal.</Image>

<Image src={import('./_assets/level-shifter-sim/out.png')} width="700px">Simulation results of the level-shifting circuit shown in [^level-shifter-sim-schematic]. You can clearly see that the $\pm 5.0V$ signal has been level-shifted to the range $0-3.3V$. Because the input is connected to the non-inverting input of the op-amp, the output is in phase with the input signal (i.e. not inverted).</Image>

</Aside>

### Ideal Diodes/Rectifiers

#### Basic Ideal Diode/Rectifier

An op-amp can be combined with a regular diode to make an "ideal diode" (also called a _superdiode_[^bib-superdiode], _precision rectifier_, or _half/full-wave rectifier_), one that rectifies and has *no voltage drop*. Ideal diode circuits are useful when:

* You have to rectify a signal with precision (the forward voltage drop across the diode is unacceptable).
* You have to rectify a small signal, whose amplitude is less than a forward diode drop.

The below schematic shows the most basic form of an ideal diode (a.k.a. a _half-wave rectifier_). Because feedback to the inverting pin is taken from the load ($v_{out}$), the op-amp will drive it's output to whatever is needed to make the output voltage the same as the input voltage (when $v_{in}$ is positive), thereby compensating for the forward voltage drop of the diode. When $v_{in}$ is negative, the op-amp will try as hard as it can to lower the output voltage, but this will be blocked from the output by the diode, providing the rectifying action.

<Image src={import('./_assets/ideal-diode-basic.webp')} width="600px">A basic ideal diode circuit.</Image>

The below graph shows the response of the basic ideal diode circuit.

<Image src={import('./_assets/ideal-diode-basic-response.png')} width="500px">The response of the basic ideal diode circuit.</Image>

The ideal diode is only ideal up to a point. It is not limited by the bandwidth and max. slew rates of the op-amp, which is typically much less than of a basic diode! There is also an issue with slew rates with the above circuit. As soon as $v_{in}$ goes negative, the op-amp will "saturate" and swing it's output to the maximum negative voltage. This will cause some delay on the output (limited by the slew rate) when the input once again goes positive.

TIP: The standard diode in the ideal diode circuit can be replaced by a Schottky diode for a quick-and-easy speed improvement (Schottky diodes have faster switching speeds).

#### Improved Half-wave Rectifier

The below schematic shows an improved half-wave rectifier with additional circuitry to prevent the op-amp from saturating when in the blocked part of the cycle[^bib-microchip-op-amp-rectifiers]. Note that this also is an inverting half-wave rectifier -- it rectifies the negative half of the input and outputs it as a positive wave on the output.

<Image src={import('./_assets/ideal-diode-improved-inverting.webp')} width="700px">An improved ideal diode/half-wave rectifier.</Image>

The gain of the half-wave rectifier above is:

$$
\begin{align}
A = \begin{cases}
-\frac{R_2}{R_1} & v_{in} < 0 \\
0 & v_{in} \ge 0 \\
\end{cases}
\end{align}
$$

### Sample And Hold Circuits

The basic op-amp based _sample and hold_ circuit is an extension of the ideal diode circuit, but with an added capacitor on the output to maintain with the voltage when the input signal is removed.

<Image src={import('./_assets/sample-and-hold.webp')} width="600px">Basic op-amp based sample-and-hold circuit.</Image>

## Important Variables

Sorted by function.

### Common-Mode Input Voltage Range

The _common-mode input voltage range_ is the range of voltages that can appear at the input to the op-amp and it still work correctly. For standard single-supply op-amps, the typical range is approximately $0V$ to $V_+ - 1.5V$. Note how it includes the most negative rail $V_-$ (which is 0V for a single-supply op-amp) but only gets within `1.5V` of the most positive rail, $V_+$

### Input Offset Voltage (Vos/Vio)

**The _input offset voltage_ $V_{OS}$ (or sometimes called $V_{IO}$) is the voltage difference required between the two input pins to force the output to 0**. It is a DC measurement parameter. In an ideal op-amp, the op-amp only amplifies a difference between the inputs, and so the output is 0V when the difference is 0V, hence the input offset voltage is 0V. However, real-world op-amps always have some unavoidable differences in the internal components that make up the op-amps (specifically, in the input differential stage of the internal circuitry), and thus the inputs are not perfectly identical. The below circuit shows how the input offset voltage is modelled as a voltage source in series with one of the inputs of an ideal op-amp.

<Image src={import('./_assets/input-offset-voltage-model.svg')} width="600px">The input offset voltage is modelled as a voltage source in series with one of the inputs of an ideal op-amp (it doesn't matter which input, as the input offset voltage can be positive or negative).</Image>

A non-zero input offset voltage results in gain errors between the input and output of a op-amp. The input offset voltage is typically in the following ranges:

* 1-5mV for good general purpose op-amps, 5-15mV for really bad ones.
* 200uV-1mV for specialized low input offset voltage op-amps
* 10uV-200uV for the best "ultra" low input offset voltage op-amps.
* < 1uV for chopper-stabilized (auto-zero) op-amps.

For example, the general purpose LM324 has a typical input offset voltage of 2mV and a maximum of 3mV, at $T_A = 25°C$[^bib-ti-lm234-datasheet]. "Low" input offset voltage op-amps will have a $V_{OS}$ in the range of 50-200uV. For example, the OPAx196 family of op-amps has a max. $V_{IO}: 100uV$[^bib-ti-opax196-datasheet].

Input offset voltages vary by op-amp transistor technology. Bipolar op-amps typically have the lowest input offset voltage, followed by CMOS and the BiFET op-amps[^bib-ti-app-report-input-offset-voltage].

#### Input Offset Voltage Drift

The _input offset voltage_ varies with both temperature and time (drift). The variation with temperature is usually represented by $T_C V_{OS}$ (I've also seen $\Delta V_{IO}/\Delta T$ used[^bib-onsemi-lm324]). Typical temperature drift for precision op-amps is in the range of $1-10uV^{\circ}C$[^bib-analog-devices-input-offset-voltage]. The venerable LM324 has a $T_C V_{OS} = 7uV^{\circ}C$ (max)[^bib-onsemi-lm324].

The change of input offset voltage with time is called aging. Aging is normally specified in $uV/1000hours$. But since aging is a physical process that follows the "random walk pattern" (Brownian motion), it is more accurate to describe it proportional to the square root of elapsed time.

Some op-amps are trimmed by the manufacturer after the op-amp is packaged. Performing trimming after packaging prevents any production-line effects from effecting the input offset voltage. One such example is the family of AD8601, AD8602 and AD8604 op-amps from Analog Devices (they call it _DigiTrim_). The offset is trimmed with a special digital code using no extra pins (i.e. reuses existing op-amp pins). Once programmed, poly-silicon fuses are blown to permanently set the trim values[^bib-analog-devices-input-offset-voltage].

#### Trimming Input Offset Voltage

If your op-amp lacks a dedicated trim pin, you can make your own trimming circuit as shown below. This is for an op-amp in the inverting configuration. $VR1$ is a potentiometer, manually adjusted until it cancels out the op-amps input offset voltage. 

<Image src={import('./_assets/input-offset-voltage-trimming-inverting.svg')} width="700px">A popular way of performing external input offset voltage trimming with a inverting op-amp.</Image>

The maximum input offset voltage you can compensate for with this circuit is given by Eq $\ref{eq:trim-inverting-offset}$[^bib-analog-devices-input-offset-voltage].

$$
\begin{align}
\label{eq-trim-inverting-offset}
V_{offset} =  \pm\left(1 + \frac{R2}{R1}\right) \left(\frac{R_P}{R_P + R3}\right) V_R
\end{align}
$$

### Input Bias Current (Ib+ and Ib-)

The _input bias current_ $I_{B+}$ and $I_{B-}$ describe the currents that flow in and out of the op-amps input pins. In an ideal op-amp, no current flows into/out of the input pins (the op-amp has infinite input impedance). In reality, always some small amount of current will flow. Typical input bias currents range from 1-10nA. Special "low input bias current" op-amps can have much lower values. For example, the [Texas Instruments OPA396](https://www.ti.com/lit/ds/symlink/opa396.pdf) has a typ. $I_B = \pm 10fA$ at $25^{\circ}C$! This increases to approx. $\pm 4pF$ across it's entire temperature range (typical)[^bib-ti-opa396-datasheet].

The amount and behaviour of input bias current depends on the op-amp transistor technology. A FET-based op-amp's input bias current will approximately double with every 10°C rise in temperature[^bib-analog-devices-input-bias-current] [^bib-analog-devices-precision-photodiode].

**Input bias currents are a problem because these currents will flow through external circuitry connected to the op-amps inputs**. This current when flowing through resistors and other impedances will create unwanted voltages which will increase the systematic errors. Finding an op-amp with a low input bias current can be important for a high sensitivity transimpedance amplifier, such as one connected to a photodiode.

<Aside type="caution">
Do not confuse the input bias current with the input offset current (although they are related). The _input offset current_ $I_{OS}$ is the difference between the input bias current at the `+` pin and the `-` pin.
</Aside>

### Input Impedance

The input impedance is the internal resistance to ground from the two input pins. In an ideal op-amp, this value is infinite. For most op-amps, this value is somewhere between 1-10MΩ.

### Gain-Bandwidth (GBW) Product

The gain-bandwidth product (initialised as _GBWP_, _GBW_, _GBP_ or _GB_) is an important parameter which puts a limit on the maximum gain and frequency an op-amp can operate at. **An op-amp's maximum possible gain reduces as the frequency of the signal increases.** The multiplication of the gain with the frequency gives the gain-bandwidth product, which is **relatively constant** for a particular op-amp.

Hence if the gain bandwidth of a particular op-amp is 1Mhz, and the gain is 10, the maximum frequency that the op-amp can operate linearly at (still provide a gain of 10) is at 100kHz. Or if the gain was set to 100, then the maximum frequency is 10kHz. **This also means that an op-amp acts as a low-pass filter, as the gain drops for very high frequencies.** Like wise for a GBW of 1MHz, is the gain was just 1 (i.e. acting as a buffer/follower), then it should be able to operate up to frequencies of 1MHz.

An example of an ultra-high gain bandwidth is 1700MHz, which are present in 'Wideband CFB" op-amps, designed for applications such as RGB line drivers (such as the OPA695). A 'normal' GBW can be anywhere between 100kHz and 10MHz. A low gain-bandwidth is around 1kHz (reminiscent of less advanced, older op-amps). **Remember gain is unit-less (V/V), so gain bandwidth is expressed as a frequency only.** Not realising this can be confusing! The GBW product is closely related to the [^_slew_rate, slew rate].

### High Level Output Voltage

The high level output voltage ($V_{OH}$) defines the highest voltage which the op-amp can drive the output to (with respect to the power supply $V_+$).

### Low Level Output Voltage

The low level output voltage ($V_{OL}$) defines the lowest voltage which the op-amp can drive the output to. The LM324 is rumoured to only be able to drive the output near ground if it is sourcing current, but only to 0.5V minimum if sinking (see this EDA Forum post, [LM324 Opamp Gain Instability](http://www.edaboard.com/thread209783.html)).

### Slew Rate

The _slew rate_ of an op-amp defines the **maximum rate the output voltage can change with respect to time**. In an ideal op-amp, this would be infinite. It has the SI units $V/s$, and is commonly expressed in $uV/s$. It can be thought of as the slope of the output waveform if one of the inputs of the input was subjected to a step voltage change. 

Op-amps have a limited output slew rate due to internal compensation capacitor combined with a finite output drive current. Charing a capacitive output with a constant current (a good approximation) gives a linear increase in voltage (recall that the equation relating voltage to current for a capacitor is $i = C \frac{dV}{dt}$).

The plot below shows how the non-infinite slew rate of an op-amp distorts the shape of an input square-wave "pulse". The slew rate of $0.4V/us$ (which is not particularly good by any standard) of the "jellybean" LM324 op-amp was used in this plot[^bib-ti-lm324-datasheet].

<Image src={import('./_assets/slew-rate-distortion-diagram-square-wave.png')} width="500px">Plot showing the effect an op-amps slew rate on a input square wave. Slew rate was chosen to be equal to the LM324's of 0.4V/us[^bib-ti-lm324-datasheet].</Image>

The **max. slew rate of an op-amp limits the amplitude of output waveforms it can produce at high frequencies without distortion**. This parameter usually increases as the GBW of the op-amp increases. Higher slew rate op-amps also tend to have higher quiescent currents.

#### Slew Rate Equation

The maximum frequency of a signal that an op-amp can output before it gets distorted because of it's maximum slew rate limit is given by the following equation:

$$
\begin{align}
SR = 2\pi f_{max} V_P
\end{align}
$$

<p className="centered">where:<br/>
$SR$ is the slew rate, in $Vs^{-1}$<br/>
$f_{max}$ is the maximum frequency (of a sine wave) that is allowed before distortion, in $Hz$<br/>
$V_P$ is the peak voltage of the sine wave (i.e. amplitude, or half the peak-to-peak voltage), in $V$<br/></p>

**Proof**

A sine wave at frequency $f$ and has peak voltage $V_P$ is described with the equation:

$$
\begin{align}
f(t) = V_P \sin (2\pi f t)
\end{align}
$$

The slope at any point in time $t$ is found by taking the derivative. As per standard derivative rules, the derivative of $\sin$ is $\cos$ and you multiply the function by what is inside the $\sin$:

$$
\begin{align}
\frac{df}{dt} = 2\pi f V_P \cos (2\pi f t)
\end{align}
$$

We want to find the maximum slope, $max\left(\frac{df}{dt}\right)$. We know that the maximum value of any $\cos$ function is $1$, so we can simplify to:

$$
\begin{align}
max\left(\frac{df}{dt}\right) = 2\pi f V_P 
\end{align}
$$

This maximum slope $max\left(\frac{df}{dt}\right)$ is the maximum slew rate of the op-amp $SR$. Hence:

$$
\begin{align}
SR = 2\pi f_{max} V_P
\end{align}
$$

<Aside type="example">

**Finding the max. frequency of the LM324 due to slew rate limitations.**

So just as an example, the jellybean LM324 with a slew rate of $0.4V/us$ can generate a $10V$ peak ($20V$ peak-to-peak) waveform of the following frequency before distortion:

$$
\begin{align}
f_{max} &= \frac{SR}{2\pi V_P} \nonumber \\
        &= \frac{0.4V/us}{2\pi 10V} \nonumber \\
        &= 6.37kHz \\
\end{align}
$$

</Aside>

#### Slew Rate Effects On Sine Waves

The below plot shows different levels of distortion for a 10V (peak) 20kHz sine wave when it is generated by an op-amps with different slew rates. The jellybean LM324 slew rate of $0.4V/us$ is shown (which outputs a triangle wave!) along with a slightly better $1.0V/us$ (which just clips the sine wave). The minimum slew rate required to prevent any distortion of the sine wave is $1.26V/us$.

<Image src={import('./_assets/slew-rate-distortion-diagram-sine-wave.png')} width="600px">Plots showing the distortion of a 10V (peak) 20kHz sine wave when subjected to different op-amp slew rates.</Image>

### Quiescent Current

The _quiescent current_ (current with no load, device in steady-state) is generally constant over the total rated supply voltage range. Obviously, if there is a load on the op-amp, the current drawn through the power pins (the supply current) will be the sum of the quiescent current and the current going through the load.

Quiescent currents for standard op-amps are typically between 1.5-4mA. A 'low-power' op-amp has a typical quiescent current between 0.5-1.5mA (such as the `LM258N`). Then there are ultra-low power op-amps that only draw 5-20pA (such as the `LMC6464`). You normally sacrifice slew-rate and gain-bandwidth for ultra-low power. Likewise, higher gain-bandwidth and higher slew rate op-amps typically have larger quiescent currents. 

## Cascading Op-Amps

Cascading op-amps is concept when the output of one op-amp is connected to the input of another. There can be an arbitrary number of op-amps in the cascade, but usual limits are 3-4.

For a fixed-gain, cascading op-amps can also be used to **increase the bandwidth**, as each individual op-amp now can operate at a lower gain and therefore has a larger bandwidth as defined by the gain-bandwidth product. Note though that each additional op-amp added to increase the bandwidth gives diminishing returns. Also important to note that op-amp bandwidth is defined as the -3dB gain points. Hence the bandwidth does not stay the same (total bandwidth gets smaller) when two identical op-amps are cascaded, as these will now the -6dB points. A practical limit for fixed-total-gain increased-bandwidth cascading is about 3-4 op-amps.

### The Gain

When cascading op-amps, the total gain is the product of all of the individual op-amps gains, i.e.:

$$
\begin{align}
A_{total} = A_0 A_1 A_2 ... A_n
\end{align}
$$

### The Bandwidth

The bandwidth of cascaded op-amps is not as simple to calculate as the gain.

If all of the op-amps are identical, then the following equation can be used:

$$
\begin{align}
BW_{tot} = BW \times \sqrt{2^{\frac{1}{N}} - 1}
\end{align}
$$

<p className="centered">where:<br/>
$ BW_{tot} $ = the total bandwidth of the cascaded op-amp system<br/>
$ BW $ = the bandwidth of the individual op-amps (remember, they have to be identical)<br/>
$ N $ = the number of op-amps in the cascaded system<br/></p>

The above equation gives diminishing returns with every additional op-amp added.

## Feedback Resistor Values

As a rule-of-thumb, you should use the lowest acceptable resistances in op-amp feedback paths to reduce instabilities.

## Types Of Op-Amps

### General Purpose

General purpose op-amps typically have parameters in the following ranges:

* Gain Bandwidth Product: 1MHz
* Input Bias Current: 15pA
* Input Voltage Offset: 1mV
* Output Current: 20-50mA
* Icc: 1mA

### Rail-to-Rail Op-Amps

A _rail-to-rail_ op-amp is an op-amp which supports input voltages **near** the power rails, and can drive the output close to the one or more  of the power rails. We must stress the word **NEAR**, as the op-amp's output voltage will never get exactly to the rail, due to the finite voltage drop across the output-stage transistors. Rail-to-rail op-amps just support wider ranged input voltages and can drive closer to the rails than general purpose op-amps can. Look for the **low level output voltage** ($V_{OL}$) parameter in the op-amp's datasheet. For "rail-to-rail" op-amps, this will usually be about 100-200mV about ground at normal load currents.

<Aside type="caution">
"_Rail-to-rail_" op-amps cannot really output either rail voltage, just closer to it that general purpose op-amps.
</Aside>

This also means that a rail-to-ral single-supply op-amp cannot output 0V. **To achieve a true ground output, you need a negative voltage supply.** There are dedicated ICs designed to provide a small negative power supply to op-amps so that they can output true ground. One such example is the [Texas Instruments LM7705](http://www.ti.com/product/LM7705), a "_Low Noise Negative Bias Generator_". This IC only generates -230mV, which allows the designer to use CMOS-based op-amps which usually have a maximum supply voltage of 5.5V.

<Image src={import('./_assets/lm7705-low-noise-negative-bias-voltage-generator-for-op-amp-application-schematic.png')} width="688px">The typical application schematic for the Texas Instruments LM7705, a 'Low-Noise Negative Bias Generator' for the negative supply of an op-amp. This allows the op-amp to output true 0V. Image from http://www.ti.com/.</Image>

### Micropower Op-Amps

_Micropower_ is a termed used for extremely low quiescent current op-amps that are designed for battery or energy recovery-based power supplies. The supply current of micropower op-amps is typically within the range of 50-100uA at a supply voltage of 2-10V. Because they are designed for battery-based systems, they are also commonly single-supply op-amps.

### Instrumentation Amplifiers

Instrumentation amplifiers are analog voltage amplifier circuits that, although are drawn the the same symbol as an op-amp, are typically made up internally from three op-amps (and passives). You can either make an instrumentation amplifier out of discrete op-amps or purchase a instrumentation amplifier IC which contains all the op-amps within the same chip.

## Manufacturer Part Number Families

* **INA**
** **INAx126**: Precision instrumentation amplifiers by Texas Instruments. The INA126 has one amplifier per package, the INA2126 has two.
** **INA290**: Precision current-sense amplifier.
* **LM741**: Very popular and old "741" style op-amp produced by Texas Instruments, ON Semiconductor and Rochester Electronics. 
* **LT**: The prefix Linear Technology (now Analog Devices) uses for their range of op-amps.
** **LT1006**: Precision, single-supply op-amp.
** **LT1077**: Micropower, single-supply op-amp.
** **LT1167**: Instrumentation amplifier.
* **MAX**: Op-amps by Maxim.
** **MAX4194**: Instrumentation amplifier.
* **OP07**: Analog Devices/Texas Instruments ranges of low input offset voltage op-amps.
** **OP07C**: ±3-18V VCC, -40 to +85°C industrial temp. range
*** **OP07CP**: DIP-8 package
*** **OP07CS**: SOIC-8 package
** **OP07D**: ±4-18V VCC
** **OP07E**: 0 to 70°C commercial temp. range
* **OPA**: Texas Instruments (previously Burr-Brown) family of op-amps.
** **OPAx187**: Zero-drift 36V rail-to-rail op-amps. Includes the OPA187 (1 op-amp), OPA2187 (2 op-amps) and OPA4187 (4 op-amps).
** **OPA241**: Single-supply
** **OPA251**: Dual-supply
** **OPA27**: Texas Instruments (previously Burr-Brown) family of ultra-low noise, precision op-amps. Internally compensated for unity-gain stability.
** **OPA37**: Uncompensated version of the OPA27.
* **TLE202**: Texas Instruments family of "high-speed low-power" precision operational amplifiers. Belong to the _Excalibur_ family of TI op-amps which uses "isolated vertical PNP transistors" to give unity-gain bandwidth and slew rate improvements.
* **TLV**: Texas Instruments family of op-amps.

* Vsupply is voltage from Vdd/Vcc to Vss/Vee.

## The Different Types Of Gain, Explained

Open-loop gain $A_V$ (sometimes written as $A_{OL}$) is the gain of the op-amp without any feedback.

Closed loop gain $G_V$ is the over-all gain of the op-amp with feedback.

<Image src={import('./_assets/open-loop-vs-closed-loop-op-amp-gain-bode-plot.svg')} width="500px">How the open-loop and closed-loop gain of an op-amp changes with increasing frequency.</Image>

We can generalize the circuit of an op-amp with negative feedback to the block diagram shown below. 

<Image src={import('./_assets/generalized-negative-feedback-block-diagram.svg')} width="700px">A block diagram showing a generalized op-amp configuration with negative feedback.</Image>

From the above block diagram we can write an equation for $v_{out}$:

$$
\begin{align}
v_{out} &= A\times v_{sum} \\
        &= A(v_{in} - Bv_{out}) \\
\end{align}
$$

What we are really interested is an equation for the closed-loop gain $G_V$ which is equal to $\frac{v_{out}}{v_{in}}$...all we need to do is to re-arrange the equation as shown below:

$$
\begin{align}
v_{out} &= Av_{in} - ABv_{out}  & \text{Expanding} \\
v_{out}(1 - AB) &= Av_{in}      & \text{Shift $v_{out}$ onto left side and factor.} \\
\frac{v_{out}}{v_{in}} &= \frac{A}{1 - AB}  & \text{Jiggle things to get $\frac{v_{out}}{v_{in}}$} \\
\end{align}
$$

And so we come to an equation for the closed loop gain $G_V$ as:

$$
\begin{align}
G_V &= \frac{A}{1 - AB}
\end{align}
$$

We can take this one step further, since normally the open-loop gain $A$ for an op-amp is very large, in the range of $100,000$ to $1,000,000$. With that, we can simply the closed loop gain to be:

$$
\begin{align}
G_V &\approx \frac{1}{B}
\end{align}
$$

In summary:

* Open-loop gain: $A$
* Loop gain: $-AB$ 
* Closed-loop gain: $\approx \frac{1}{B}$

## Examples

Below are some examples of op-amps that stand out from the crowd for some reason, be it popularity, years in service, or functionality wise.

### AD860x

US$3.50 (1)
Good for high precision stuff! Awesome for photo-diode amplification (both current-to-voltage and voltage-to-voltage configurations).

### LM32x

A common family of op-amps that has been around for along time, they can operate of a single supply and can swing right to ground, but cannot swing to the rail voltage. The LM321 has one op-amp, the LM328 has two (dual), and the LM324 has 4 (quad).

### LM833

One of the cheapest 'audio' op-amps available (about US$0.20 as of 2011). Features a high GBW for it's price.

### OPA695

US$3.50 (1)
This is a ultra-wideband, current-feedback op-amp. If you need an op-amp with a ridiculously high gain-bandwidth product, this is along the lines of what you want to use. It has a GBW of 1700Mhz and a maximum slew-rate of 4300V/us.

### OP07

A op-amp with a "ultra" low input offset voltage (resistors are trimmed at production time to achieve this), guaranteed to be no more than 75uV. This op-amp also features offset nulling pins to further reduce the input offset voltage by performing trimming once the op-amp is installed in a circuit.

## Negative Voltage Rails

Dedicated charge-pump topology power supply ICs are available that supply a small negative voltage to the op-amps `V-` pin.

## Isolation Amplifiers

Isolation amplifiers provide galvanic isolation between the input (sensor) and output (measurement circuitry). They are used to protect the sensor measurement and recording circuitry (e.g. a microcontroller with on-board ADC) from dangerously high voltages at the sensor, and also the opposite, to protect the sensor environment from potentially dangerous voltages on the rest of the system.

<Image src={import('./_assets/fully-differential-isolation-amplfier-ti-amc1200-simplified-schematic.pdf.png')} width="700px">A simplified schematic of the Texas Instruments AMC1200, a fully-differential isolated amplifier. Image from http://www.ti.com/.</Image>

A common application would be to isolate and amplify the voltage across a current-sense resistor on a high-power motor, or to protect humans with medical sensors connected to them from the measurement system.

Basic isolation amplifiers require two power supplies (one for each side of isolation), while others incorporate built-in transformers so that you only have to provide one power source.

## Input Resistors

One of the first things you learn about an op-amp is that the input impedance on the input pins are very large (ideally infinite). So naturally you would start to question why resistors would be connected to the input pins of an op-amp like shown below.

<Image src={import('./_assets/op-amp-input-pin-resistors.png')} width="500px">Schematic showing a resistor on the positive input to a op-amp.</Image>

These input resistors serve to limit the input current if the voltage on the input pin goes above $V_{CC}$. Most op-amps have protection/clamping diodes from the input pins to $V_{CC}$ (typically you can determines this if in the datasheet the input pins max voltage is rated to $V_{CC} + 0.3V$, which is one diode voltage drop). If there was no resistor there, the built-in diode would conduct and sink a large current from the input pin to $V_{CC}$, possibly damaging the op-amp. The resistor limits this current to a safe value.

## Offset Nulling Circuits

Some op-amps which are designed to have very low input offset voltages also come with _offset nulling pins_ to further trim the input offset voltage once the op-amp is installed in circuit. The OP07 is one op-amp which has these pins. Typically, a $10-50k\Omega$ potentiometer is connected across these pins with the wiper going to $V_{CC}$, as shown below.

<Image src={import('./_assets/op07-op-amp-offset-nulling-circuit.png')} width="500px">Image from https://www.analog.com/media/en/technical-documentation/data-sheets/OP07.pdf.</Image>

<Aside type="caution">
If not using the trim pins, leave them not connected (open circuit). Do NOT connect them to ground.
</Aside>

## Negative Impedance Converters (NICs)

### What Is A NIC?

A _negative impedance converter_ (NIC) is a clever op-amp circuit which creates negative impedance (you might be wondering what negative impedance actually is, more on this later). A NIC can be constructed from an op-amp and a few passive components as shown in the following schematic:

<Image src={import('./_assets/negative-impedance-converter-nic.svg')} width="500px">Schematic of a negative impedance converter (NIC) created from an op-amp and a few passive components.</Image>

Typically the two resistances are the same ($R1 = R2$), and then the input impedance $Z_{IN}$ is:

$$
\begin{align}
Z_{IN} = -Z
\end{align}
$$

<p className="centered">where:<br/>
$Z_{IN}$ is the input impedance, in Ohms ($\Omega$)<br/>
$-Z$ is the impedance of the component connected between the inverting terminal and ground, as shown on the diagram, in Ohms ($\Omega$)<br/></p>

### What Does Negative Impedance Actually Mean?

What does negative impedance actually mean? If $Z$ is just a simple resistor with resistance $R$ (the most basic kind of NIC), then the impedance is $Z_{IN} = -R$. This means the circuit behaves just like a simple resistor connected to ground, **except that the current comes out of the resistor, not into it**.

Things get more interesting when you replace this resistor with a capacitor.

TODO: Add explanation of what happens when capacitor is added.

### NIC Input Impedance Proof

<Aside type="note">
Skip this section if you are not interested in the maths.
</Aside>

To prove $Z_{IN} = -Z$, we need to find the input current at inverting terminal, and then use $Z_{IN} = \frac{V}{I_{IN}}$. The input current can be found by application of Ohm's law and the golden rules of op-amps. Using the rule that the voltage at the two input terminals will be the same, we know the voltage across the impedance $Z$ is going to be:

$$
\begin{align}
\label{vzeqv}
V_Z = V
\end{align}
$$

Using Ohm's law, the current through the impedance $Z$ is therefore:

$$
\begin{align}
I_Z = \frac{V}{Z}
\end{align}
$$

Because there is no current going into the inverting terminal of the op-amp, this current $I_Z$ must also be flowing through $R2$:

$$
\begin{align}
\label{i-r2}
I_{R2} = \frac{V}{Z}
\end{align}
$$

Now knowing the voltage at the inverting terminal and the current through $R2$ we can write an equation for the voltage at the output of the op-amp:

$$
\begin{align}
\label{vout-eq}
V_{OUT} &= V_Z + V_{R2} \\
        &= V_Z + I_{R2} \cdot R \\
        &= V + \frac{V}{Z} \cdot R &  &\text{Subs. in \ref{vzeqv} and \ref{ir2}}
\end{align}
$$

Now that we know the voltage on both sides of $R1$ we can find the voltage across it:

$$
\begin{align}
\label{v-r1}
V_{R1} &= V_{OUT} - V                   &\\
       &= V + \frac{V}{Z} \cdot R - V   & &\text{Subs. in \ref{vout-eq}} \\
       &= \frac{V}{Z} \cdot R           & &\text{Simplifying}
\end{align}
$$

Now we know the voltage across $R1$ we can find the current going through it using Ohm's law:

$$
\begin{align}
\label{eqn:i-r1}
I_{R1} &= \frac{V_{R1}}{R}                &\\
       &= \frac{\frac{V}{Z} \cdot R}{R}   & &\text{Subs. in \ref{v-r1}} \\
       &= \frac{V}{Z}                     & &\text{Simplifying}
\end{align}
$$

Because the voltage on the right-hand side of $R1$ is higher, this current is flowing right-to-left. Since no current flows into the inverting terminal of the op-amp, this also must be current flowing "out" of the input terminal. Thus:

$$
\begin{align}
\label{i-in}
I_{IN} = -\frac{V}{Z}
\end{align}
$$

Knowing the input current and voltage, we can finally write an equation for $Z_{IN}$:

$$
\begin{align}
\label{eqn:z_in}
Z_{IN} &= \frac{V_{IN}}{I_{IN}}       & &\text{Ohms law} \\
       &= \frac{V}{-\frac{V}{Z}}      & &\text{Subs. in \ref{i-in}} \\
       &= -Z                          & &\text{Simplifying} \\
\end{align}
$$

Proof complete!

## Chopper-Stabilised Op-Amps

TODO: Add info.

## Capacitive Loading

TODO: Add info.

## Industry Standard Package Pinouts For Op-Amps

Op-amps are usually packaged in industry standard through-hole and surface mount packages. For many of these packages, there are industry standard pinouts which means you can easily find pin-compatible alternatives for any given op-amp. This section aims to illustrate some of these industry standard pinouts.

For 8-pin packages:

<Image src={import('./_assets/standard-8-pin-dual-op-amp-pinout.webp')} width="400px">The standard pinout for two op-amps in an 8-pin package. This includes the DIP-8, TSSOP-8, SOIC-8 and MSOP-8 component packages.</Image>

[^bib-ti-lm234-datasheet]: Texas Instruments (2015). _LMx24-N, LM2902-N Low-Power, Quad-Operational Amplifiers_. Retrieved 2020-10-20, from https://www.ti.com/lit/ds/snosc16d/snosc16d.pdf.
[^bib-ti-app-report-input-offset-voltage]: Palmer, Richard (2001). _DC Parameters: Input Offset Voltage (Vio)_. Texas Instruments. Retrieved 2020-10-20, from https://www.ti.com/lit/an/sloa059/sloa059.pdf.
[^bib-analog-devices-input-bias-current]: Analog Devices (2008, Oct). _Op Amp Input Bias Current_. Retrieved 2020-10-20, from https://www.analog.com/media/en/training-seminars/tutorials/MT-038.pdf.
[^bib-ti-opax196-datasheet]: Texas Instruments (2017, Jul). _OPAx196 36-V, Low-Power, Low Offset Voltage, Rail-to-Rail Operational Amplifier_. Retrieved 2021-09-03, from https://www.ti.com/lit/ds/symlink/opa196.pdf.
[^bib-analog-devices-input-offset-voltage]: Analog Devices (2008, Oct). _MT-037: Op Amp Input Offset Voltage_. Retrieved 2021-09-03, from https://www.analog.com/media/en/training-seminars/tutorials/MT-037.pdf.
[^bib-onsemi-lm324]: OnSemiconductor (2021, Aug). _Single Supply Quad Operational Amplifiers (Datasheet)_. Retrieved 2021-09-03, from https://www.onsemi.com/pdf/datasheet/lm324-d.pdf.
[^bib-superdiode]: Keim, Robert (2018, Feb 8). _When a Diode Simply Isn’t Good Enough: The Superdiode_. AllAboutCircuits. Retrieved 2021-09-27, from https://www.allaboutcircuits.com/technical-articles/when-a-diode-simply-isnt-good-enough-the-superdiode/.
[^bib-microchip-op-amp-rectifiers]: Ducu, Dragos. (2011). _AN1353: Op Amp Rectifiers, Peak Detectors and Clamps_. Microchip. Retrieved 2021-10-01, from http://ww1.microchip.com/downloads/en/AppNotes/01353A.pdf.
[^bib-ti-lm324-datasheet]: Texas Instruments (2014). _LM321 Low Power Single Operational Amplifier_. Retrieved 2021-10-02, from https://www.ti.com/lit/ds/symlink/lm321.pdf.
[^bib-analog-devices-precision-photodiode]: Luis Orozco (2014). _MS-2624: Optimizing Precision Photodiode Sensor Circuit Design_. Analog Devices. Retrieved 2022-02-24, from https://www.analog.com/en/technical-articles/optimizing-precision-photodiode-sensor-circuit-design.html.
[^bib-ti-opa396-datasheet]: Texas Instruments (formally Burr-Brown) (2021, Jul). _OPA396 Precision, Low IQ, Low Input Bias Current Op Amp (datasheet)_. Retrieved 2022-10-10, from https://www.ti.com/lit/ds/symlink/opa396.pdf.
[^electronics-tutorials-ws-the-differential-amplifier]: Electronics Tutorials. _Operational Amplifiers - The Differential Amplifier_. Retrieved 2023-08-29, from https://www.electronics-tutorials.ws/opamp/opamp_5.html.

---
authors: [gbmhunter]
date: 2024-09-05
description: I2S is a synchronous, serial, PCM-based communication protocol used to transmit digital audio data between integrated circuits. This page covers the history, signals, MCU support, frameworks and libraries and more.
image: ./_assets/cover-image.webp
lastUpdated: 2024-09-05
tags: [I2S, communication protocols, electronics, audio, ICs, sample rate, signals, serial, Zephyr, Philips, NXP, PCM, master, slave, HDMI]
title: I2S Communication Protocol
type: page
---

_Inter-Integrated Circuit (Inter-IC) Sound (I2S)_ is a synchronous, serial communication protocol which uses Pulse Code Modulation (PCM) to transmit audio data between integrated circuits, typically those within the same PCB. It is commonly used to send audio between electronics such as MCUs, DSPs and audio amplifiers.

It can be written/pronounced as:

1. I2S, pronounced "eye-two-ess".
1. I²S, pronounced "eye-squared-ess".
1. IIS, pronounced "eye-eye-ess".

<Image src={import('./_assets/i2s-logo.webp')} width="300px">The I2S logo[^wiki-commons-i2s-logo].</Image>

<Aside type="tip">
Although it sounds similar, I2S is not to be confused with general-purpose [I2C (Inter-Integrated Circuit) communication protocol](/electronics/communication-protocols/i2c-communication-protocol/). They are related in that they were both created by Philips (now NXP) and designed for communication between ICs. That's about where the similarities end!
</Aside>

ICs connected using I2S for audio data transfer will typically also be connected via [I2C](/electronics/communication-protocols/i2c-communication-protocol/) for control and configuration.

## History

I2S was originally developed by Phillips in the 1980s. The first I2S specification was published in 1986, and it was revised in 1996[^all-about-circuits-intro-to-i2s] [^elprocus-i2s-protocol].

## I2S Signals

There are three signals in the I2S protocol:

1. **Serial Clock (SCK)**: This is the clock signal that is used to synchronise the data transfer between the master and slave devices. The clock signal is generated by the master device and is used by the slave device to sample the data.
1. **Word Select (WS)**: This signal is used to indicate whether the data being transferred is left-channel, right-channel or a control word. The WS signal is generated by the master device. It is also known as left-right clock (LRCLK)[^nordic-nrf52-i2s-interface] or frame sync (FS)[^wikipedia-i2s].
1. **Serial Data (SD)**: This is the actual audio data that is being transferred between the master and slave devices.

<IRef iref="fig-i2s-signals-between-master-and-slave" /> shows the I2S signals required between master and slave devices. In a), the master device (transmitter) is sending data to the slave device (receiver). In b), the slave device (transmitter) is sending data to the master device (receiver).

<Image iref="fig-i2s-signals-between-master-and-slave" src={import('./_assets/i2s-signals-between-master-and-slave.webp')} width="900px">I2S signals between master and slave devices.</Image>

<Aside type="tip">
Notice that the MASTER always generates the SCK and WS signals. The MASTER or SLAVE may generate the SD signal, depending on who is the current transmitter.
</Aside>

<IRef iref="fig-i2s-waveform-diagram" /> shows the digital waveforms of the three I2S signals.

<Image iref="fig-i2s-waveform-diagram" src={import('./_assets/i2s-waveform-diagram.webp')} width="900px">Diagram showing the digital waveforms of the three I2S signals.</Image>

The three signals are explained in more detail below.

### Serial Clock (SCK)

The Serial Clock (SCK) signal is used to synchronise the data transfer between the master and slave devices. The clock signal is generated by the master device and is used by the slave device to sample the data.

The SCK frequency is dependent on:

1. The number of bits per sample (typically 8, 12, 16 or 24 bits).
1. The number of channels (e.g. 2 for left and right audio).
1. The audio sample rate (samples per second, commonly $44.1kHz$).

For example, for a 16-bit stereo audio signal with a sample rate of 44.1 kHz, the SCK frequency would be:

$$
\begin{align}
f_{SCK} &= 16 \text{bits/sample} \times 2 \text{channels} \times 44.1 kHz\\
        &= 1.41 MHz
\end{align}
$$

So even though you typically think of audio as being in the 0-20 kHz range, the digital bitstream that represents the audio can quickly climb into the MHz range. 1-10 MHz is generally not a problem for short traces on a PCB without high-speed design considerations.

SCK runs continuously[^all-about-circuits-intro-to-i2s].

### Word Select (WS)

The Word Select (WS) signal lets the receiver know whether the data being transmitted is for channel 1 (WS = 0) or channel 2 (WS = 1). For stereo signals WS = 0 is used for the left channel and WS = 1 is used for the right channel.

It is important to note that **WS changes one clock cycle before the MSB of a sample is transmitted**, rather than on the same clock cycle. This is so that a slave transmitter knows to start transmission of the next sample on the next clock cycle. It also allows the receiver to store the previous sample and clear the input ready for the next sample[^phillips-semi-i2s-spec].

It is also known as left-right clock (LRCLK, LRCK[^nordic-nrf52-i2s-interface]) or frame sync (FS).

WS is normally synchronized with the falling edge of SCK, and is latched by the receiver on the rising edge.

WS has a 50% duty cycle and has the same frequency as the audio sample rate.

### Serial Data (SD)

The Serial Data signal (SD) is used to transmit the audio samples. Data is sent as a signed number in two's complement format. The most significant byte (MSB) is sent first.

Data may be clocked out by the transmitter on either the rising or falling edge of SCK (usually on the falling edge). However, at the receiver data is always sampled on the rising edge of SCK [^phillips-semi-i2s-spec][^all-about-circuits-intro-to-i2s].

## Master vs. Slave vs. Transmitter vs. Receiver

The Master device is the device which is generating the SCK and WS signals. The Slave is the other device. Master and slave devices can both be either the transmitter or receiver in an I2S connection. The transmitter is the device which is generating the SD signal.

A slave device, not having control of the SCK and WS signals, is normally designed to handle receiving more or less bits per sample that it expects. This allows for two devices with different sample rates to communicate. If the slave device receives more bits than it needs, it can ignore the extra bits (waiting for WS to change) knowing that the bits it has received are the most significant bits. If it receives fewer bits than it needs, it can pad the least significant bits of it's sample with zeros.

## I2S Over Cables

I2S was designed to be run short distances on PCBs. However, some companies have developed ways to run I2S over cables.

PS Audio started the trend of using I2S over HDMI cables. They use differential I2S signals rather than the single-ended signals used in the formal I2S standard.

<Image src={import('./_assets/ricable-hdmi-mkii-i2s-cable.webp')} width="500px">An HDMI cable by Ricable with I2S[^ricable-hdmi-mkii-i2s-cable].</Image>

## MCU Support

The Nordic nRF52 and [nRF53](/programming/microcontrollers/nordic/nrf53/) MCU families have I2S peripherals. These peripherals allow for both the transmission and reception of audio data. They usually support DMA for transferring audio data in and out of memory without CPU intervention.[^nordic-nrf52-i2s-interface] The Nordic I2S peripheral supports both the standard "I2S format" and an "aligned format" --- the aligned format is when WS is no longer changes 1 bit before the MSB of the next sample, but rather changes at the same time as the MSB.[^nordic-nrf52-i2s-interface]

<Image iref="fig-nrf53-i2s-peripheral-functional-diagram" src={import('./_assets/nrf53-i2s-peripheral-functional-diagram.webp')} width="800px">The functional diagram of the nRF53 I2S peripheral.[^nordic-semi-nrf5340-i2s]</Image>

Note that the nRF52 I2S peripheral does not support padding when acting as a master. This means that it does not support audio amplifiers such as the Texas Instruments TAS5720x family which require a `MCLK` and `BCLK` that is at least 64 times the audio sample rate.[^ti-tas5720x-datasheet] These values are shown in <IRef iref="fig-ti-i2s-audio-amp-tas5720x-min-clock-freq-highlighted" />. The problem here is that with `BCLK` at 64x the sample rate, this means at least 32-bits per left and right channel are required. But the nRF52 I2S peripheral only supports up to 24-bits per sample, and there is no ability to add padding to increase it up to 32-bits.

<Image iref="fig-ti-i2s-audio-amp-tas5720x-min-clock-freq-highlighted" src={import('./_assets/ti-i2s-audio-amp-tas5720x-min-clock-freq-highlighted.webp')} width="900px">The screenshot from the Texas Instruments TAS5720x audio amplifier family datasheet, highlighting the minimum master and BCLK frequencies.[^ti-tas5720x-datasheet]</Image>

The nRF53 MCU can support these high clock frequency audio amplifiers because it supports "separate sample and word widths" (as per the nRF53 specifications).[^nordic-semi-nrf5340-i2s] This is essentially "padding", and the sample will be either left or right aligned at the start of each half frame.

PSoC MCUs support I2S via components in PSoC Creator. The following diagram shows the PSoC "I2S TX Master and RX Master" component in PSoC Creator:

<Image src={import('./_assets/psoc-i2s-tx-master-rx-master-component.webp')} width="400px">A screenshot of the PSoC I2S TX Master RX Master component from within PSoC Creator.</Image>

## I2S Amplifier ICs

### MAX98365

The MAX98365 is a "plug-and-play" digital class-D amplifier that supports I2S. It is "plug-and-play" in the sense that it auto-detects different PCM and TDM clocking schemes and has no I2C configuration required. This means you can typically power it up, provide `LRCLK`, `BCLK` and `SD` and it will work. Given it has no I2C configuration, it does provide a pin called `GAIN_SLOT` which can be used for gain selection in I2S mode.[^analog-devices-max98365-ds]

<Image iref="fig-max98365-i2s-plug-and-play-audio-amplifier-block-diagram" src={import('./_assets/max98365-i2s-plug-and-play-audio-amplifier-block-diagram.webp')} width="500px">The block diagram of the MAX98365 I2S plug-and-play audio amplifier.[^analog-devices-max98365-ds]</Image>

The MAX98365 also supports TDM mode, where up to 8 of the MAX98365s can be connected together with only 4 wires, as shown in <IRef iref="fig-max98365-tdm-operation-schematic-8-channels" />.

<Image iref="fig-max98365-tdm-operation-schematic-8-channels" src={import('./_assets/max98365-tdm-operation-schematic-8-channels.webp')} width="600px">The schematic of the MAX98365 TDM operation with 8 channels.[^analog-devices-max98365-ds]</Image>

## Frameworks and Libraries

[Zephyr RTOS](/programming/operating-systems/zephyr/) has an [I2S API](https://docs.zephyrproject.org/latest/hardware/peripherals/audio/i2s.html) that can be used to configure and use I2S peripherals on supported MCUs. It also supports non-standard extensions such as PCM short/long frame sync and left/right justified data formats[^zephyr-i2s-bus-docs].

[^wiki-commons-i2s-logo]: Wikimedia Commons. _I2S Logo [image]_. Retrieved 2024-09-05, from https://commons.wikimedia.org/wiki/File:Logo_i2S.jpg.
[^wikipedia-i2s]: Wikipedia. _I²S [article]_. Retrieved 2024-09-05, from https://en.wikipedia.org/wiki/I%C2%B2S.
[^zephyr-i2s-bus-docs]: Zephyr. _Inter-IC Sound (I2S) Bus [documentation]. Retrieved 2024-09-05, from https://docs.zephyrproject.org/latest/hardware/peripherals/audio/i2s.html.
[^all-about-circuits-intro-to-i2s]: Robert Keim (2020, Mar 4). _Introduction to the I2S Interface_. All About Circuits. Retrieved 2024-09-06, from https://www.allaboutcircuits.com/technical-articles/introduction-to-the-i2s-interface/.
[^elprocus-i2s-protocol]: Elprocus. _I2S Protocol : Working, Differences & Its Applications_. Retrieved 2024-09-06, from https://www.elprocus.com/i2s-protocol/.
[^nordic-nrf52-i2s-interface]: Nordic. _nRF52 Series > nRF52832 > nRF52832 Product Specification > I2S — Inter-IC sound interface_. Retrieved 2024-09-06, from https://infocenter.nordicsemi.com/index.jsp?topic=%2Fcom.nordic.infocenter.nrf52832.ps.v1.1%2Fi2s.html.
[^phillips-semi-i2s-spec]: Phillips Semiconductors (1986, Feb). _I2S bus specification_. Retrieved 2024-09-07, from https://web.archive.org/web/20070102004400/http://www.nxp.com/acrobat_download/various/I2SBUS.pdf.
[^ricable-hdmi-mkii-i2s-cable]: Ricable. _SUPREME HDMI MKII Digital Video Cable HDMI 2.0 Bandwidth 29 Gbps and Audio I²S [product page]_. Retrieved 2024-09-07, from https://www.ricable.com/en/prodotto/supreme-hdmi-cavo-video-digitale-hdmi-2-0-bandwidth-29-gbps-e-audio-i2s/.
[^ti-tas5720x-datasheet]: Texas Instruments (2016, Feb). _TAS5720x Digital Input Mono Class-D Audio Amplifier With TDM Support Up To 8 Channels_ [datasheet]. Retrieved 2024-11-25, from https://www.ti.com/lit/ds/symlink/tas5720l.pdf.
[^nordic-semi-nrf5340-i2s]: Nordic Semiconductor (2024, Jun 27). _nRF5340 Product Specification > Peripherals > I2S — Inter-IC sound interface_. Retrieved 2024-11-25, from https://docs.nordicsemi.com/bundle/ps_nrf5340/page/i2s.html.
[^analog-devices-max98365-ds]: Analog Devices (2022, Jan). _MAX98365 Tiny, Cost-Effective, 14V Plug-and-Play Digital Class-D Amplifier_ [datasheet]. Retrieved 2024-11-25, from https://www.analog.com/media/en/technical-documentation/data-sheets/MAX98365.pdf.

---
authors: [gbmhunter]
date: 2024-09-31
description: Blog updates during September 2024.
draft: true
lastUpdated: 2024-09-31
tags: []
title: September 2024 Updates
type: updates
---

#### Split Battery Page

The Lithium Thionyl Chloride and Zinc-Air battery pages have been split from the main Batteries page into their own pages. This was done to match the other battery chemistries.

#### Embedded Template Library (ETL)

Added info on the [C++ Embedded Template Library (ETL)](/programming/languages/c-plus-plus/cpp-on-embedded-systems/#the-embedded-template-library-etl).

#### nRF Connect for VS Code

Added info on [nRF Connect for VS Code](/programming/microcontrollers/nordic/nrf-connect-for-vs-code/).

#### I2S Communication Protocol

Added info on the [I2S Communication Protocol](/electronics/communication-protocols/i2s-communication-protocol/).

#### Cover Images

Added cover images to many pages, especially those in the [Communication Protocols section](/electronics/communication-protocols/).

#### Added Ability To Add Page Aliases

I added the ability for document pages to specify aliases. Aliases are great when you are moving pages around and the existing page is linked (and has a significant amount of traffic) from external sites. These aliases are added to each `.mdx` documents front matter like so:

```mdx title="src/content/pages/my-page.mdx" {2}
---
aliases: [/my-old-page/]
authors: [gbmhunter]
date: 2024-09-11
lastUpdated: 2024-09-11
tags: [my tag]
title: My Page
type: page
---

This is my page!
```

This field is specified in the content collection so it becomes available in the `.data` object when inside the `getStaticPaths()` function. To specify it in the collection's schema, add the following to the `src/content/config.ts` file:

```ts title="src/content/config.ts" {4}
const pagesCollection = defineCollection({
	type: 'content',
  schema: ({image}) => z.object({
    aliases: z.array(z.string()).optional(), // Used to setup dynamic redirects. This is done in [...slug].astro 
    authors: z.array(z.string()),
    date: z.date(),
	  description: z.string().optional(),
    draft: z.boolean().default(false),
    image: image().optional(),
    lastUpdated: z.date(),
    tags: z.array(z.string()).optional(),
    title: z.string(),
  }),
});
```

Then, in the `[...slug].astro` file which contains the `getStaticPaths()` function which determines the routes for the site, I check if the page has aliases and if so, add them to the static paths array. Alias paths are passed a `aliasTo` prop which is used to redirect to the correct page:

```astro title="src/pages/[...slug].astro" {13-27, 45-48}
---
export async function getStaticPaths() {
  const combinedCollection = await getAllCollections();
  const routablePages = getRoutablePages(combinedCollection);
  const sidebarData = getSidebarData(combinedCollection);

  let staticPaths = [];
  for (let pageRoute of routablePages) {

    //...

    // Need to create additional paths if the page contains aliases in it's front matter
    const aliases = pageRoute.data.aliases;
    if (aliases) {
      for (let alias of aliases) {
        staticPaths.push({
          params: { slug: alias },
          props: { 
            aliasTo: pageRoute.slug,
            // Nothing more is needed for the alias page
            frontmatter: undefined,
            render: undefined,
            sidebarData: undefined,
          },
        });
      }
    }

    staticPaths.push({
      params: { slug: pageRoute.slug },
      props: { 
        aliasTo: undefined,
        frontmatter: pageRoute.data,
        render: pageRoute.render,
        sidebarData: sidebarData,
      },
    });
  }

  return staticPaths;
}

const { aliasTo, frontmatter, render, sidebarData } = Astro.props;

// Check if this page is an alias, and if so, redirect before attempting to render page
if (aliasTo) {
  return Astro.redirect(`/${aliasTo}/`);
}

---
```

#### Created a Programming > Design Section

I decided that the `Programming > General` section was somewhat mis-labeled (what is "General" mean anyway?). Some of the pages under this section seemed to fit a "Design" section, so I created a new section called `Programming > Design`. As a start, the pages on state machines have been moved across.

#### Added Info on GNU Linker Scripts

Added info on [GNU Linker Scripts](/programming/compilers/gcc/gnu-linker-scripts/).

#### Added New Optocoupler Schematic Symbols

Added new schematic symbols for [bidirectional phototransistor optocouplers](/electronics/components/optical-isolators/#bidirectional-phototransistor-opto-isolators).

#### Moved the EEPROM Info to it's Own Page

The EEPROM info has been moved from the [Memory page](/electronics/components/memory/) to it's own [EEPROM page](/electronics/components/memory/eeprom/).

#### Added Code To Convert From Year/Month/Day To Day Of The Week

Added code to calculate the day of the week from the year, month and day in the [Real Time Clock (RTC) ICs page](/electronics/components/real-time-clock-ics/).

#### Google Analytics vs. Umami

Umami has now been running long enough to do a useful comparison with Google Analytics. Below are the results for this blog, NinjaCalc and NinjaTerm. The time periods are slightly different for each site (due to different dates on which the data was valid).

**Blog**

Time range: 1st April 2024 - 30th June 2024 (3 months)

Google Analytics: 92k views, 45k visitors (users)
Umami: 116k views, 66.9k visitors

**NinjaCalc**

Time range: 1st May 2024 - 31st August 2024 (4 months)

Google Analytics: 13k views, 1.1k visitors
Umami: 4.32k views, 1.57k visitors

**NinjaTerm**

Time range: 1st April 2024 - 31st August 2024 (5 months)

Google Analytics: 1.5k views, 590 visitors
Umami: 3.21k views, 1.18k visitors

#### Added Info on the Memfault CLI

Added info on the [Memfault CLI](/programming/firmware/memfault/#memfault-cli).

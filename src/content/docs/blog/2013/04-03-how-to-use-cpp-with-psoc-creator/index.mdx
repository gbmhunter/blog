---
authors: [gbmhunter]
categories: [ "Programming" ]
date: 2013-04-03
draft: false
last_update:
  date: 2013-04-03
  author: Geoffrey Hunter
tags: [ "C", "compiler", " C++", "creator", "programming", "PSoC" ]
title: "How To Use C++ With PSoC Creator"
type: "post"
---

import { Aside, CircuitJs, Image, WarningIsNotes } from '/src/components/General.astro';

Ever wanted to write C++ for the PSoC 5 or 5LP chips in PSoC Creator?

Well, although PSoC Creator doesn't natively support it, you can quite easily **do a few 'hacks', and you'll be writing in C++ in no time**.

A new page [Using C++ With PSoC Creator](/programming/microcontrollers/psoc/using-cplusplus-with-psoc-creator), explains the steps required to compile C++ code in Cypress's PSoC Creator.

It covers the four main steps:

1. Compiling with G++ rather than GCC using custom compiler flags


import psoc_creator_build_settings_command_line_custom_flags from './psoc-creator-build-settings-command-line-custom-flags.png'

<Image src={psoc_creator_build_settings_command_line_custom_flags} width="500px">Adding custom command line flags in PSoC Creator to force GCC to use the C++ compiler.</Image>

2. Wrapping C code with guards:

    ```c++
    extern C{< C code goes here>}
    ```

3. Defining the operators new and delete (this is optional)

    ```c++
    void* operator new(size_t size)
    ```

4. Prevent Exception Functionality

    Preventing exception functionality to prevent linker errors such as `undefined reference to __gxx_personality_v0` and `undefined reference to __cxa_end_cleanup` (again, this is optional, and only applied if you want to use new and delete)
    

import cplusplus_linker_error_undefined_reference_to_gxx_personality from './cplusplus-linker-error-undefined-reference-to-gxx-personality.png'

<Image src={cplusplus_linker_error_undefined_reference_to_gxx_personality} width="600px">Add the custom compile flag '-fno-exceptions' to every .cpp file you want to compile in PSoC Creator to prevent the 'undefined reference to __gxx_personality_v0' linker error.</Image>

The steps have pictures and code examples to help you through the process.

Checkout the page [here](/programming/microcontrollers/psoc/using-cplusplus-with-psoc-creator).

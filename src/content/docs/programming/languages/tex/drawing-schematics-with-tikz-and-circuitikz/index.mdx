---
authors: [ "Geoffrey Hunter" ]
categories: [ "Programming", "Programming Languages" ]
date: 2014-06-28
draft: false
tags: [ "TikZ", "CircuitikZ", "Latex", "TeX", "QuickLatex", "circuit", "schematic" ]
title: Drawing Schematics With TikZ And CircuitikZ
type: page
---

import { Aside, CircuitJs, Image, WarningIsNotes } from '/src/components/General.astro';

## QuickLatex Setup

The code below shows the basic setup to draw a Circuitikz diagram in a Wordpress post using the QuickLatex plugin.

```text
\begin{tikzpicture}
[+preamble]
    \usepackage{tikz}
    \usepackage[siunitx]{circuitikz}
[/preamble]
    % Draw a non-polarized capacitor.
    \draw (0,0) to [C, l=$C$] (0,2);
\end{tikzpicture}
```

Add the actual Circuitikz code between the end of the preamble and the end of the tikzpicture elements.

## Adding A Background

Sometimes in can be beneficial to add a background to the circuit drawing. This is true when using QuickLatex with Wordpress to render Circuitikz (as this site does), as by default it uses a transparent background, which is good for inline equations, but not so much for circuit drawings.

```text
\useasboundingbox [fill=white!10] (-1,-1) rectangle (3,3);	
```

Tailor the corners of the rectangle to provide the correct size background for your circuit drawing.

## Capacitors

The three types of capacitors used are easily drawn.

```
% Draw a unpolarised capacitor.
\draw (0,0) to [C, l=$C$] (0,2);	
% Draw a polarised capacitor.
\draw (0,0) to [pC, l=$C$] (0,2);
% Draw a variable capacitor.
\draw (0,0) to [vC, l=$C$] (0,2);
```

<table>
<tbody >
<tr >
<td >
```
\begin{tikzpicture}  
[+preamble]  
\usepackage{tikz}  
\usepackage[siunitx]{circuitikz}  
[/preamble]  
% Draw a non-polarized capacitor.  
\draw (0,0) to [C, l=$C$] (0,2);  
\end{tikzpicture}
```
</td>
<td >
```
\begin{tikzpicture}  
[+preamble]  
\usepackage{tikz}  
\usepackage[siunitx]{circuitikz}  
[/preamble]  
% Draw a polarized capacitor.  
\draw (0,0) to [pC, l=$C$] (0,2);  
\end{tikzpicture}
```
</td>
<td >
```
\begin{tikzpicture}  
[+preamble]  
\usepackage{tikz}  
\usepackage[siunitx]{circuitikz}  
[/preamble]  
% Draw a variable capacitor.  
\draw (0,0) to [vC, l=$C$] (0,2);  
\end{tikzpicture}
```
</td>
</tr>
<tr >

<td >Unpolarised capacitor.</td>

<td >Polarised capacitor.</td>

<td >Variable capacitor.</td>
</tr>
</tbody>
</table>

## Op-Amps And Comparators

Op-amps and caparators share the same symbol.

```
\draw
    % Draw an op-amp
    (0,0) node[op amp] (opamp) {}
    (opamp.+) node[left] {$v_+$}
    (opamp.−) node[left] {$v_−$}
    (opamp.out) node[right] {$v_o$}
;	
```

```
\begin{tikzpicture}[scale=1]  
[+preamble]  
\usepackage{tikz}  
\usepackage[siunitx]{circuitikz}  
[/preamble]  
\draw  
% Draw an op-amp  
(0,0) node[op amp] (opamp) {}  
(opamp.+) node[left] {$v_+$}  
(opamp.−) node[left] {$v_−$}  
(opamp.out) node[right] {$v_o$};  
\end{tikzpicture}
```

## Dashed Lines

It took me awhile to get dashed lines to work, here is the correct way to draw them:

```text
% Make sure to use a separate draw command for dashed lines,
% rather than tacking it onto another one!
\draw[dashed]
    (-0.5,0) -- (2,0);
```

 Make sure to use a separate draw command for dashed lines, rather than tacking it onto another one, otherwise you will find all lines in that draw command will become dashed.
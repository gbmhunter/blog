<!-- This serves as a "shell" template for all pages of the site -->
<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
  <!-- TITLE AND DESCRIPTION (SEO)
  NOTE: the Site's title, and if there is a page title, that is set too -->
  
  <title>{{ block "title" . }}{{ with .Params.Title }}{{ . }} | {{ end }}{{ .Site.Title }} {{ end }}</title>
  <!--  For pages, this will use the description field if it's provided in the markdown metadata, otherwise
    it will will make the description up from a summary -->
    {{ if .IsHome }}
    <meta name="description" content="{{ $.Site.Params.description }}" />
    {{- else if .Description -}}
    <meta name="description" content="{{ .Description }}" />
    {{- else if .IsPage -}}
    <meta name="description" content="{{ .Summary | plainify }}">
    {{ end }}
    
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    
    <!-- Make page match the screen's width in device-independent pixels -->
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    
    <!-- This should output a meta tag looking like <meta name="generator" content="Hugo 0.55.0" /> -->
    {{ hugo.Generator }}
    
    {{/* NOTE: For Production make sure you add `HUGO_ENV="production"` before your build command */}}
    {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
    <meta name="robots" content="index, follow">
    {{ else }}
    <meta name="robots" content="noindex, nofollow">
    {{ end }}
        
    {{ $stylesheet := .Site.Data.webpack_assets.app }}
    {{ with $stylesheet.css }}
    <link href="{{ relURL (printf "%s%s" "dist/" .) }}" rel="stylesheet">
    {{ end }}
    
    {{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ relURL ($.Site.BaseURL) }}{{ . }}">
    {{ end }}

    <!-- Add icon to display in browser tab -->
    <link rel="icon" href="/images/logo/favicon.ico" type="image/x-icon">
    
    {{ range .AlternativeOutputFormats -}}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{ end -}}
    
    {{/* NOTE: These Hugo Internal Templates can be found starting at https://github.com/spf13/hugo/blob/master/tpl/tplimpl/template_embedded.go#L158 */}}
    {{- template "_internal/opengraph.html" . -}}
    {{- template "_internal/schema.html" . -}}
    {{- template "_internal/twitter_cards.html" . -}}
    
    <!--
      Google Analytics:
        Google Analytics v4.0 is used.
        Can't use _internal/google_analytics_async.html with Google Analytics v4, must use the non-async template
        (according to https://gohugo.io/templates/internal/)
        Measurement ID provided in site config .yaml file.
    -->
    {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
      {{/*template "_internal/google_analytics.html" . */}}
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-0WDEVQLPS2"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0WDEVQLPS2');
      </script>
    {{ end }}
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    
    <!-- MAIN STYLING SCRIPTS FOR THIS SITE -->
    <!-- SCSS is used for styling, hugo is used to convert this to CSS and add link below -->
    {{ $sass := resources.Get "main.scss" }}
    {{ $styles := $sass | resources.ToCSS | resources.Fingerprint }}
    <link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}">
    
    <!-- Font Awesome -->
    <!-- On 2024-02-26 I had to add ?v=7857324 to the end of the URL to fix a problem with the icons not showing up on mobile -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css?v=7857324" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

    <!-- jQuery required for calculators and image lightbox -->
    <script src=https://code.jquery.com/jquery-3.3.1.min.js></script>

    <!-- Load simplebar. Used for a discrete, auto-hide scroll bar for the right-hand TOC column -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/simplebar@latest/dist/simplebar.css"
    />
    <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script>

    <!-- Load item numbering script. This adds figure/table numbers and allows you to reference them -->
    <script src="/js/item-numbering.js"></script>

    <!-- Load TOC script. -->
    <script src="/js/toc.js"></script>

    <!-- Load light/dark mode toggle script -->
    <!-- To avoid flashes of white on reload if in dark mode, make sure this script is
    loaded in the head and not the body -->
    <script src="/js/light-dark-mode-toggle.js"></script>

    <!-- Handles the display and click functionality for the scroll-to-top button -->
    <script src="/js/scroll-to-top.js"></script>

    <!-- MathJax -->
    {{ if .Param "math" }}
      {{ partialCached "math.html" . }}
    {{ end }}

    <!-- Google AdSense Script -->
    <!-- Tried ads but they were too invasive for the amount of money they generated, so commenting them out -->
    {{/*  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7022311785369773" crossorigin="anonymous"></script>  */}}

    <!-- Umami Analytics -->
    <!-- Umami is hosted on AWS Lightsail, and the domain umami.mbedded.ninja is an AAAA record pointing to the Lightsail instance. Only enable in production to prevent swamping of stats with dev. work -->
    {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
    <script defer src="https://umami.mbedded.ninja/script.js" data-website-id="e0f4b55d-8cc8-4afe-ab25-68d695b46826"></script>
    {{ end }}

  </head>
        
  <body>
    <!-- ================================================================================================ -->
    <!-- TOP BANNER, 100% VIEWPORT WIDTH -->
    <!-- ================================================================================================ -->
    <header role="banner" class="top-navbar">
      <div class="stuff-at-start">
        <!-- HAMBURGER BUTTON -->
        <!-- ====================================== -->
        <button type="button" class="hamburger-button">
          {{/*  <i class="fas fa-bars"></i>  */}}
          {{/*  <i class="bi bi-list"></i>  */}}
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
          </svg>
        </button>
        
        <div class="hamburger-button-spacer"></div>
        <div><a href="/"><img src={{ "/images/logo/cartoon-ninja.jpg" | absURL }} height="40px" /></a></div>
        <div class="site-title"><a href="/">mbedded.ninja</a></div>
      </div>
      <div class="stuff-at-end">
        <!-- SEARCH -->
        <!-- ==================================== -->
        <div
          class="nav-bar search-input-div"
        >
          <span class="fa fa-search"></span>
          <input class="nav-bar-search-input" type="search" placeholder="Search..." />
        </div>
        <script src="/js/search.js" type="module"></script>

        <div style="width: 2px;"></div>

        <!-- LIGHT/DARK MODE TOGGLE -->
        <!-- ====================================== -->
        <!-- id needs to match up with the id in the light-dark-mode-toggle.js script -->
        <div id="theme-toggle">
          <span class="d-block-light d-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </span>
          <span class="d-block-dark d-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
              </svg>
            </span>
          </div>
        <!-- NinjaTerm and NinjaCalc Links -->
        <!-- ============================= -->
        <a class="ninjaterm-link" href="https://ninjaterm.mbedded.ninja/">
          <img src="/images/misc/ninjaterm-github-readme-logo.png" />
        </a>
        <a class="ninjacalc-link" href="https://ninjacalc.mbedded.ninja/">
          <img src="/images/misc/ninjacalc-logo.png" />
          <span>NinjaCalc</span>
        </a>
      </div> <!-- stuff-at-end -->
    </header>
    
    <!-- ================================================================================================ -->
    <!-- WRAPPER BELOW TOP BANNER -->
    <!-- ================================================================================================ -->
    <div class="wrapper-below-top-navbar">
        
        <aside class="left-navbar">
          <div class="left-navbar-padding" >
            {{ partial "menu.html" . }}
          </div>
        </aside>
        <div class="main-content-outer-wrapper">
          {{ block "main" . }}{{ end }}
        </div>
    </div>

    <footer class="footer">
      Copyright © 2023 mbedded.ninja. Built with Hugo.
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.2.0/iscroll.min.js"></script>
  </body>
  <!-- 'Back to Top' button -->
  <!-- Based of code at https://codepen.io/rdallaire/pen/apoyx -->
  <a href="javascript:" class="return-to-top">
    <div class="return-to-top-inner">
      <i class="fas fa-chevron-up"></i>
    </div>
  </a>

  <!-- ================================================================================================ -->
  <!-- DRAWER (not in document flow) -->
  <!-- ================================================================================================ -->
  <!-- This drawer is not in the document flow -->
  <nav class="drawer" role="navigation">
    <div class="drawer-inner">
      <div class="drawer-top-row-with-close-button">
        <button class="drawer-close-button">
          &times;
        </button>
      </div>
      {{ partial "menu.html" . }}
    </div>
  </nav>
  <!-- This div is used to dim the entire page when the drawer is open -->
  <div class="drawer-modal"></div>

  <div class="search-modal">
    <div class="search-modal-inner">
      <div class="search-modal-top-row">
        <div class="search-input-div">
          <span class="fa fa-search"></span>
          <input class="search-modal-input" type="search" placeholder="Search..." />
        </div> 
        <button class="search-modal-close-button">
          &times;
        </button>
      </div>
      <div class="search-results">
        
      </div>
  </div>

    <!-- Handles the collapsing/expanding of sub-menus on click
    Load it directly after the menu HTML is created, and not on document ready, otherwise you'll
    get "glitches" on load -->
  <script src="/js/nav-menu.js"></script>
</html>

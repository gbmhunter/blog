---
authors: [ "Geoffrey Hunter" ]
categories: [ "Electronics", "Communication Protocols" ]
date: 2015-10-29
draft: false
lastmod: 2022-03-02
tags: [ "RS-232", "serial", "UART", "DTE", "DCE", "communication protocol", "TX", "RX", "USB" ]
title: "RS-232 Protocol"
type: "page"
---

## Overview

RS-232 is a digital data transmission protocol with origins dating back to the 1960's. It was designed as a communication protocol to talk between _DTE_ (data terminal equipment) and _DCE_ (data communication equipment).

|===
| Drive Type | Single-ended
| Num. Wires (excl. GND) | 2 (TX/RX) or 4 (TX/RX and RTS/CTS)
| Duplexity | Full
| Connection Topology | Point-to-point
| OSI Layers | Layers 1 (physical) and 2 (data link)
|===

RS-232 is commonly used today for a variety of different purposes in embedded systems, incl industrial equipment, test and measurement equipment. RS-232 ports are no longer available on most desktop computers (and certainly not on laptops), but USB-to-RS232 adapters are cheap, popular and easy to use with almost any operating system.

## Pinout

.The pinout of a male RS-232 DE-9 connector. Image from http://www.ethernut.de/.
image::rs232-comm-protocol-male-connector-large-pinout.png[width=315px]

## Revisions

* RS-232C (or just shortened to RS-232)
* EIA-232-D (1987)
* EIA/TIA-232-E (1991)

## Flow Control

The flow control is a way of detecting when the receiver or transmitter is ready to accept or send new data. The UART protocol provides a few (all optional) methods for flow control:

* Hardware RTS/CTS lines
* Software XON/XOFF flow control

### RTS/CTS

This is done by various additional connections to the standard transmit, receive and ground wires. The two most common are CTS and RTS. Typically, a micro-controller may have one or two UART peripherals that support this feature, while the rest are just basic non-flow control UART's.

A small amount of power can be extracted from the RTS and CTS lines for powering low-power devices.

The following tables lists all of the flow control signals (as well as the data signals), with respect to the device in question. Matching signals are grouped together.

<div class="table-wrapper">
<table>
  <thead>
    <tr>
      <th>Signal</th>
      <th>Port Type</th>
      <th>Description</th>
      <th>DB-25 Pin</th>
      <th>DE-9 Pin</th>
    </tr>
  </thead>
  <tbody>
<tr>
<td>DTR (Data Terminal Ready)</td>
<td>Output</td>
<td>DTE drives this to indicate to the DCE that it is present.</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>DCD (Data Carrier Detect)</td>
<td>Input</td>
<td>DCE drives this when it is connected to the telephone line.</td>
<td>8</td>
<td>1</td>
</tr>
<tr>
<td>RI (Ring Indicator)</td>
<td>Input</td>
<td>The DCE drives this when it has detected a phone call. Note that there is no matching signal going the other way.</td>
<td>22</td>
<td>9</td>
</tr>
<tr>
<td>RTS (Request To Send)</td>
<td>Output</td>
<td>DTE drives this to tell the DCE to get ready to receive data.</td>
<td>4</td>
<td>7</td>
</tr>
<tr>
<td>CTS (Clear To Send)</td>
<td>Input</td>
<td>Driven by the DCE when it is ready to accept data.</td>
<td>5</td>
<td>8</td>
</tr>
<tr>
<td>TxD (Data Transmit)</td>
<td>Output</td>
<td>The DTE sends data to the DCE over this line.</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>RxD (Data Receive)</td>
<td>Input</td>
<td>The DCE sends data to the DTE over this line.</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>Common Ground (GND)</td>
<td>n/a</td>
<td>The common ground for all signals.</td>
<td>7</td>
<td>5</td>
</tr>
<tr>
<td>Protective Ground (PG)</td>
<td>n/a</td>
<td>The protective ground. This is usually just connected up to the common ground on the PCB.</td>
<td>1</td>
<td>n/a</td>
</tr>
</tbody>
</table>
</div>

{{% warning %}}
There is confusion of how to connect two UART devices together arises when it is not terminal equipment (DTE) connected to modem equipment (DCE). In the embedded world, microcontrollers and other devices which support UART can act either as a DTE or a DCE. **Take particular care when connecting UART ports together on embedded devices!**
{{% /warning %}}

> Rule-of-thumb: Most RS-232 serial interfaces with a male 9 or 25 pin connector are DTE's, most with a female 9 or 25 pin connector are DCE's.

Most often, manufacturers label the UART pins as DTE's. In this case, you have to swap all connections with their matching line. So TxD of device 1 is connected to RxD of device 2, RxD of device 1 is connected to TxD of device 2, RTS of device 1 is connected to CTS of device 2, e.tc.

## Transmission Distances

15m or less

## Higher-Level Protocols

Do you need a higher-level communication protocol that works over a UART connection? See the link:https://github.com/gbmhunter/SerialFiller[SerialFiller] library on GitHub (written in C++). SerialFiller uses a publish/subscribe mechanism and works well on point-to-point serial connections such as UART.

## Interfaces

The pinout of a typical Analog Devices RS-232 to UART transceiver is shown below.

.Pinout of a RS-232 transceiver by Analog Devices.
image::analog-devices-rs-232-transceiver-pin-layout.png[width=242px]

Another example of a RS-232 to CMOS UART converter is the MAX3221IDBE4. It supports an auto-shutdown feature based on the voltage-level of the receiving RS-232 line.

## Driver ICs

### MAX3227

The Maxim MAX3227 is a popular RS-232 line transceiver. It contains 1 driver and 1 receiver as is designed to be driven from CMOS signals (e.g. connected to a microcontroller UART)<<bib-maxim-max32xx-ds>>. Texas Instruments produces a drop-in replacement part for the MAX3227, the MAX3227CDBR (the CDBR standing for commercial temp. range, tape and reeled)<<bib-ti-max3227cdbr-ds>>.

## Cheap Discrete-Part RS-232 To TTL Converter

A RS-232 to TTL logic-level converter can be made out of a few discrete components. The schematic shown below uses some clever circuitry, including a charge-pump like circuit, to generate the negative voltage required for RS-232 transmission back to the computer.

.The schematic of a cheap, discrete-part RS-232 to TTL logic-level converter. Image from Atmel AVR910 (http://www.atmel.com/).
image::low-cost-discrete-part-rs-232-to-ttl-converter-schematic-atmel-avr910.png[width=600px]

[bibliography]
## References

* [[[bib-ti-max3227cdbr-ds, 1]]] Texas Instruments (2006, Feb). _AX3227: 3V to 5.5V Single-channel RS-232 Line Driver/Receiver With ±15kV ESD Protection (datasheet)_. Retrieved 2022-03-02, from https://www.ti.com/lit/ds/symlink/max3227.pdf.
* [[[bib-maxim-max32xx-ds, 2]]] Maxim (2011, Feb). _MAX3224–MAX3227/MAX3244/MAX3245: 1µA Supply Current, 1Mbps, 3.0V to 5.5V, RS-232 Transceivers with AutoShutdown Plus (datasheet)_. Retrieved 2022-03-02, from https://datasheets.maximintegrated.com/en/ds/MAX3224-MAX3245.pdf.  

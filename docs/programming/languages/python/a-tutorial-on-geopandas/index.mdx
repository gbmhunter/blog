---
authors: [ "Geoffrey Hunter" ]
categories: [ "Programming", "Programming Languages", "Python" ]
date: 2020-03-18
description: "A tutorial on how to use geopandas."
draft: false
last_update: 2020-03-19
tags: [ "programming", "programming languages", "Python", "geopandas", "rtree", "plotting", "plots", "matplotlib", "geospatial" ]
title: "A Tutorial On geopandas"
type: "page"
---

## Overview

`geopandas` is a Python library that adds extra functionality to `pandas` to make it more useful for dealing with geospatial data.

Most of the code examples below assume you have imported `geopandas` into the current module with:

```python
import geopandas
```

## Plotting

`geopandas` makes it very easy to plot geospatial data onto graphs.

```python
world = geopandas.read_file(geopandas.datasets.get_path('naturalearth_lowres'))
world.plot(figsize=(10,10))
```

<Image src={require('./geopandas-plotted-earth.png').default} width="500px">The plot generated by the 'naturalearth_lowres' dataset that is bundled with geopandas.</Image>

If you want to save the plot, you can import `matplotlib.pyplot` and use the standard `save_fig()` function:

```python
import matplotlib.pyplot as plt
plt.save_fig('plot.png')
```

## Common Warnings/Errors

### Missing package `rtree`

```text
/usr/local/lib/python3.7/site-packages/geopandas/base.py:116: UserWarning: Cannot generate spatial index: Missing package `rtree`.
```

You are missing the package `rtree`. `rtree` can not usually easily be installed with `pip` alone because it depends on a number of dependencies that `pip` does not manage. It is best to use your systems package manager to install `rtree` instead.

### No module named `descartes`

```text
ModuleNotFoundError: No module named 'descartes'
```

Running `pip install geopandas` does not install the dependency `descartes` automatically. `descartes` is needed when plotting, for example when you call `.plot()`. Install with:

```bash
pip install descartes
```